(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,n,t){e.exports=t(335)},166:function(e,n,t){},170:function(e,n,t){},272:function(e,n,t){},328:function(e,n,t){e.exports=t.p+"static/media/index.d41d8cd9.less"},331:function(e,n,t){},335:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(8),c=t.n(o),l=(t(166),t(138)),i=t(77),s=r.a.createContext(),d=t(21),u=t(168),m=[t(169)],p=["CREATE_TIME","CREATE_USER","LAST_MODIFIED","LAST_MODIFY_USER","TS","DR"],v=function(e){var n=d.toLower(e.packageName),t=d.upperFirst(d.camelCase(e.projectName)),a=e.tableName,r=e.tableSchema,o=new Map;o.set("VAR","String"),o.set("DEC","Double"),o.set("INT","Integer");var c=function(e){var n=d.split(e,"["),t=new RegExp("]");return n=d.filter(n,function(e){return t.test(e)}),n=d.map(n,function(e){return d.split(e,"]")[0]}),n=d.filter(n,function(e){return""!==e&&"\n"!==e})}(r);r=[];for(var l=0;l<c.length;l+=2){var i={};i.columnName=c[l],i.type=o.get(d.toUpper(c[l+1]).substring(0,3)),i.key=c[l],r.push(i)}return{packageName:n,projectName:t,tableName:a,tableSchema:r}},f=function(e){var n=Object(a.useState)([]),t=Object(i.a)(n,2),o=t[0],c=t[1],l=Object(a.useState)(""),f=Object(i.a)(l,2),b=f[0],h=f[1],y=Object(a.useState)(""),g=Object(i.a)(y,2),E=g[0],k=g[1];return r.a.createElement(s.Provider,{value:{tableSchema:o,formattedGridColumn:b,formattedFactoryComp:E,setSettingConfig:function(e){var n=v(e).tableSchema;c(n)},updateConfig:function(e){console.log("updateConfig"),console.log(e),c(e);var n=function(e){var n=e.tableSchema,t="";return t+="const column = [",n.map(function(e){if(!p.includes(e.columnName)){var n=d.camelCase(e.columnName),a=e.filterType?e.filterType:"none",r=e.sorter?e.sorter:"none",o=e.render?e.render:"none";switch(t+='\n           {\n               title: "'.concat(n,'",\n               dataIndex: "').concat(n,'",\n               key: "').concat(n,'",\n               width: 120,\n\n          '),a){case"none":break;case"text":t+='\n                filterType: "text",\n                filterDropdownType: "string",\n                filterDropdown: "show",\n              ';break;case"number":t+='\n                filterType: "number", \n                filterDropdownType: "number", \n                className: \'column-number-right \', \n                filterInputNumberOptions: {\n                    max: 999999,\n                    min: 0,\n                    step: 1,\n                    precision: 0\n                },\n              ';break;case"date":t+='\n                filterType: "date",\n                filterDropdown: "show", \n              ';break;case"daterange":t+='\n                filterDropdown: "hide", \n                filterType: "daterange", \n                filterDropdownType: "daterange", \n              ';break;case"dropdown":t+='\n                filterType: "dropdown",\n                filterDropdown: "hide",  \n                filterDropdownAuto: "manual", \n                filterDropdownData: [{key: "KEY_1", value: "VALUE_1"}, {key: "KEY_2", value: "VALUE_2"}],\n              '}switch("none"!==r&&(t+="\n                sorter: (a, b) => a.".concat(n," - b.").concat(n,",\n            ")),d.startsWith(o,"FactoryComp-")&&(t+="\n          render: (text, record, index) => {\n                return <FactoryComp\n                    type='".concat(n,"'  //\u4e1a\u52a1\u7ec4\u4ef6\u7c7b\u578b\n                    value={text} //\u521d\u59cb\u5316\u503c\n                    field='").concat(n,"' //\u4fee\u6539\u7684\u5b57\u6bb5\n                    index={index} //\u5b57\u6bb5\u7684\u884c\u53f7\n                    required={true} //\u5fc5\u8f93\u9879\n                    record={record} //\u8bb0\u5f55\u96c6\u7528\u4e8e\u591a\u5b57\u6bb5\u5904\u7406\n                    onChange={this.changeAllData} //\u56de\u8c03\u51fd\u6570\n                    onValidate={this.onValidate} //\u6821\u9a8c\u7684\u56de\u8c03\n                />\n            }\n        ")),o){case"none":break;case"Basic-span":t+='\n                render: (text, record, index) => {\n                    return <span>{text ? text : ""}</span>\n                }\n              ';break;case"Basic-moment":t+='\n                render: (text, record, index) => {\n                      return <div>{text ? moment(text).format("YYYY/MM/DD") : ""}</div>\n                }\n              ';break;case"Basic-toLocaleString":t+='\n                render: (text, record, index) => {\n                      return  <span>{typeof text === "number" ? Number(text.toFixed(2)).toLocaleString() : ""}</span>;\n                }\n              ';break;case"Basic-Tooltip":t+="\n                render: (text, record, index) => {\n                    return (\n                        <Tooltip inverse overlay={text}>\n                            <span>{text}</span>\n                        </Tooltip>\n                    );\n                }\n              "}t+="},"}}),t+="];",u.format(t,{parser:"babylon",plugins:m})}({tableSchema:o});h(n);var t=function(e){console.log("gen factory comp");var n=e.tableSchema,t="",a=[],r=[];return console.log("tableSchema map"),n.map(function(e){if(!p.includes(e.columnName)){var n=d.camelCase(e.columnName),t=d.startsWith(e.render,"FactoryComp-")?d.split(e.render,"FactoryComp-")[1]:"none";console.log(e.render),console.log("renderType:".concat(t));var o="";switch(t){case"none":break;case"Text":a.push("import TextField from 'components/RowField/TextField';"),o+="\n                                case '".concat(n,"': \n                                  return (<div>\n                                      {record._edit ?//\u7f16\u8f91\u6001\n                                          <TextField {...this.props}\n                                              status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                                              validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                                          /> : <div>{value}</div>}\n                                  </div>);\n                              "),r.push(o),console.log("renderComp i"),console.log(r);break;case"Select":a.push("import SelectField from 'components/RowField/SelectField';"),o+="\n                                case '".concat(n,"': \n                                const ").concat(n,"Data = [{\n                                    key: \"\u8bf7\u9009\u62e9\",\n                                    value: '',\n                                    disabled: true\n                                }, {\n                                    key: 'KEY-001',\n                                    value: 'VALUE-001'\n                                }, {\n                                    key: 'KEY-002',\n                                    value: 'VALUE-002'\n                                }];\n                                return (<div>\n                                    {record._edit ?\n                                        <SelectField {...this.props}\n                                            status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                                            validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                                            data={").concat(n,"Data}\n                                        /> : <div>{record.").concat(n,"EnumValue}</div>}\n                                </div>);\n                              "),r.push(o),console.log("renderComp i"),console.log(r);break;case"Number":a.push("import NumberField from 'components/RowField/NumberField';"),o+="\n                                 case '".concat(n,"'://\u5de5\u9f84\n                            return (<div>\n                                {record._edit ?\n                                    <NumberField {...this.props}\n                                        status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                                        validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                                        iconStyle=\"one\"\n                                        max={999999}\n                                        min={0}\n                                        step={1}\n                                    /> : <div>{value}</div>}\n                            </div>);\n                              "),r.push(o),console.log("renderComp i"),console.log(r);break;case"Month":a.push("import SelectField from 'components/RowField/SelectField';"),o+='\n                                 case \'month\'://\u6708\u4efd\n                const monthData = [{\n                    key: "\u8bf7\u9009\u62e9",\n                    value: "",\n                    disabled: true\n                }, {\n                    key: "\u4e00\u6708",\n                    value: 1\n                }, {\n                    key: "\u4e8c\u6708",\n                    value: 2\n                }, {\n                    key: "\u4e09\u6708",\n                    value: 3\n                }, {\n                    key: "\u56db\u6708",\n                    value: 4\n                }, {\n                    key: "\u4e94\u6708",\n                    value: 5\n                }, {\n                    key: "\u516d\u6708",\n                    value: 6\n                }, {\n                    key: "\u4e03\u6708",\n                    value: 7\n                }, {\n                    key: "\u516b\u6708",\n                    value: 8\n                }, {\n                    key: "\u4e5d\u6708",\n                    value: 9\n                }, {\n                    key: "\u5341\u6708",\n                    value: 10\n                }, {\n                    key: "\u5341\u4e00\u6708",\n                    value: 11\n                }, {\n                    key: "\u5341\u4e8c\u6708",\n                    value: 12\n                }];\n                return (<div>\n                    {record._edit ?\n                        <SelectField {...this.props}\n                            status={record[\'_status\']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                            validate={record[\'_validate\']}//\u542f\u7528\u9a8c\u8bc1\n                            data={monthData}//\u81ea\u5b9a\u4e49\u6570\u636e\u4f20\u5165json\n                        /> : <div>{record.monthEnumValue}</div>}\n                </div>);\n                              ',r.push(o);break;case"Year":a.push("import YearField from 'components/RowField/YearField';"),o+="  \n           case 'year'://\u5e74\u4efd\n                return (<div>\n                    {record._edit ?\n                        <YearField {...this.props}\n                            status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                            validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                        /> : <div>{value}</div>}\n                </div>);\n                              ",r.push(o);break;case"Date":a.push("import DateField from 'components/RowField/DateField';"),o+="    \n            case 'date'://\u65e5\u671f\n                  return (<div>\n                      {record._edit ?\n                          <DateField {...this.props}\n                              status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                              validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                          /> : <div>{value}</div>}\n                  </div>);\n                              ",r.push(o);break;case"Ref":a.push("import Ref".concat(d.upperFirst(n)," from 'components/RowField/Ref$").concat(d.upperFirst(n),"';")),o+="    \n           case '".concat(n,"': \n                return (<div>\n                    {record._edit ?\n                        <").concat(n,"Dept {...this.props}\n                            status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                            validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                        /> : <div>{record.").concat(n,"Name}</div>}\n                </div>);\n                              "),r.push(o)}}}),console.log("tableSchema map end"),t+="import React, { Component } from 'react';",(a=d.uniq(a)).map(function(e){t+="\n        ".concat(e,"\n     ")}),t+="\n     class FactoryComp extends Component {\n        constructor(props) {\n          super(props);\n        }\n\n\n        renderComp = () => {\n        let { type, value, record } = this.props;\n        switch (type) {  \n              \n   ",console.log("renderComp o"),console.log(r),r.map(function(e){t+="\n          ".concat(e,"\n      ")}),t+="\n                   default:\n                      return (<div>\u7ec4\u4ef6\u7c7b\u578b\u9519\u8bef</div>)\n              }\n          }\n          render() {\n              return (<div>\n                  {this.renderComp()}\n              </div>);\n          }\n      }\n\n      export default FactoryComp;\n\n  ",u.format(t,{parser:"babylon",plugins:m})}({tableSchema:o});k(t)}}},e.children)},b=t(338),h=t(337),y=(t(170),b.a.TextArea),g=h.a.create()(function(e){var n,t=Object(a.useContext)(s).setSettingConfig,o=e.form,c=o.validateFields,i=o.getFieldDecorator,d=o.getFieldsError;return r.a.createElement("div",{className:"setting-area"},r.a.createElement(h.a,{layout:"vertical",onSubmit:function(e){e.preventDefault(),c(function(e,n){e||t(n)})}},r.a.createElement(h.a.Item,{label:"# Table Schema"},i("tableSchema",{rules:[{required:!0,message:"Please input your Table Schema!"}]})(r.a.createElement(y,{rows:10}))),r.a.createElement(h.a.Item,null,r.a.createElement(l.a,{type:"primary",htmlType:"submit",disabled:(n=d(),Object.keys(n).some(function(e){return n[e]}))},"Submit"))))}),E=t(159),k=t(137),F=t(102),x=t(336),C=(t(272),k.a.Option),w=k.a.OptGroup,S=function(){var e=Object(a.useContext)(s),n=e.tableSchema,t=e.updateConfig,o=function(e,t,a){console.log("type:".concat(e," index:").concat(t," value:").concat(a));var r={};switch(e){case"sorter":r[e]=a.target.checked;break;default:r[e]=a}n[t]=Object(E.a)({},n[t],r)},c=[{title:"Column Name",dataIndex:"columnName",key:"columnName"},{title:"Type",dataIndex:"type",key:"type"},{title:"FilterType",key:"FilterType",render:function(e,n,t){return r.a.createElement(k.a,{defaultValue:"none",style:{width:120},onChange:o.bind(void 0,"filterType",t)},r.a.createElement(C,{value:"none"},"none"),r.a.createElement(C,{value:"text"},"text"),r.a.createElement(C,{value:"number"},"number"),r.a.createElement(C,{value:"date"},"date"),r.a.createElement(C,{value:"daterange"},"daterange"),r.a.createElement(C,{value:"dropdown"},"dropdown"))}},{title:"Sorter",key:"Sorter",render:function(e,n,t){return r.a.createElement(F.a,{onChange:o.bind(void 0,"sorter",t)},"sorter")}},{title:"Render",key:"Render",render:function(e,n,t){return r.a.createElement(k.a,{defaultValue:"none",style:{width:120},onChange:o.bind(void 0,"render",t)},r.a.createElement(w,{label:"Basic"},r.a.createElement(C,{value:"none"},"none"),r.a.createElement(C,{value:"Basic-span"},"span"),r.a.createElement(C,{value:"Basic-moment"},"moment"),r.a.createElement(C,{value:"Basic-toLocaleString"},"toLocaleString"),r.a.createElement(C,{value:"Basic-Tooltip"},"Tooltip")),r.a.createElement(w,{label:"FactoryComp"},r.a.createElement(C,{value:"FactoryComp-Text"},"Text"),r.a.createElement(C,{value:"FactoryComp-Select"},"Select"),r.a.createElement(C,{value:"FactoryComp-Number"},"Number"),r.a.createElement(C,{value:"FactoryComp-Month"},"Month"),r.a.createElement(C,{value:"FactoryComp-Year"},"Year"),r.a.createElement(C,{value:"FactoryComp-Date"},"Date"),r.a.createElement(C,{value:"FactoryComp-Ref"},"Ref")))}}];return r.a.createElement("div",{className:"annotation-table"},r.a.createElement("h1",{className:"text-gradient"},"@ Annotation"),r.a.createElement(x.a,{columns:c,dataSource:n,pagination:!1}),r.a.createElement(l.a,{type:"primary",onClick:function(){t(n)}},"Generate Grid Colunm"))},T=t(152),N=t(153),D=t(157),_=t(154),R=t(158),O=t(108),j=t(156),A=t.n(j),Y=(t(328),function(e){function n(e){var t;return Object(T.a)(this,n),(t=Object(D.a)(this,Object(_.a)(n).call(this,e))).state={},t}return Object(R.a)(n,e),Object(N.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,n=e.codeStr,t=e.lang;return r.a.createElement(O.a,Object.assign({},O.b,{theme:A.a,code:n,language:t}),function(e){var n=e.className,t=e.style,a=e.tokens,o=e.getLineProps,c=e.getTokenProps;return r.a.createElement("pre",{className:n,style:t},a.map(function(e,n){return r.a.createElement("div",o({line:e,key:n}),e.map(function(e,n){return r.a.createElement("span",c({token:e,key:n}))}))}))})}}]),n}(a.Component)),I=function(){var e=Object(a.useContext)(s),n=e.formattedGridColumn,t=e.formattedFactoryComp;return r.a.createElement(a.Fragment,null,r.a.createElement(Y,{codeStr:n,lang:"js"}),r.a.createElement(Y,{codeStr:t,lang:"jsx"}))},L=(t(329),t(331),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{ghost:!0,icon:"github",className:"githubBtn"},r.a.createElement("a",{href:"https://github.com/openopen114/gen-grid-column-web",target:"_blank"}," ","Github")),r.a.createElement("h1",{className:"app-title"},"GRID COLUMN GENERATOR"),r.a.createElement(f,null,r.a.createElement(g,null),r.a.createElement(S,null),r.a.createElement("h1",{className:"result-title"},"Generate Column Result"),r.a.createElement(I,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[161,2,1]]]);
//# sourceMappingURL=main.37730bf5.chunk.js.map