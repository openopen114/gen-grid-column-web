(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,n){e.exports=n(335)},166:function(e,t,n){},170:function(e,t,n){},272:function(e,t,n){},328:function(e,t,n){e.exports=n.p+"static/media/index.d41d8cd9.less"},331:function(e,t,n){},335:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(8),c=n.n(o),s=(n(166),n(79)),l=n(52),i=r.a.createContext(),d=n(80),m=n(19),u=n(168),p=[n(169)],f=["CREATE_TIME","CREATE_USER","LAST_MODIFIED","LAST_MODIFY_USER","TS","DR","TENANT_ID"],v=function(e){m.toLower(e.packageName);var t=e.projectName,n=e.tableName;n=m.replace(n,"[",""),n=m.replace(n,"]","");var a=e.tableSchema,r=new Map;r.set("VAR","String"),r.set("DEC","Double"),r.set("INT","Integer"),r.set("NVA","String"),r.set("CHA","String"),r.set("BIT","Boolean");var o=function(e){var t=m.split(e,"["),n=new RegExp("]");return t=m.filter(t,function(e){return n.test(e)}),t=m.map(t,function(e){return m.split(e,"]")[0]}),t=m.filter(t,function(e){return""!==e&&"\n"!==e})}(a);a=[];for(var c={at_Id:!1,at_Condition:!1,at_GeneratedValue:!1,at_CodingEntity:!1,at_Reference:!1},s=0;s<o.length;s+=2){var l={};l.columnName=o[s],l.type=r.get(m.replace(o[s+1],"TYPE_","").trim().substring(0,3))?r.get(m.replace(o[s+1],"TYPE_","").trim().substring(0,3)):"String",l.key=o[s],l=Object(d.a)({},l,c),a.push(l)}return{projectName:t,tableSchema:a}},g=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)([]),d=Object(l.a)(s,2),g=d[0],h=d[1],y=Object(a.useState)(""),b=Object(l.a)(y,2),E=b[0],M=b[1],x=Object(a.useState)(""),k=Object(l.a)(x,2),C=k[0],j=k[1],S=Object(a.useState)(""),w=Object(l.a)(S,2),F=w[0],N=w[1];return r.a.createElement(i.Provider,{value:{tableSchema:o,formattedGridColumn:E,formattedFactoryComp:C,formattedColunmInitTmp:F,setSettingConfig:function(e){var t=v(e),n=t.tableSchema,a=t.projectName;c(n),h(a)},updateConfig:function(e){console.log("updateConfig"),console.log(e),console.log(g),c(e);var t=function(e){var t=e.tableSchema,n=e.projectName,a="";return a+="column = [",t.map(function(e){if(!f.includes(e.columnName)){var t=m.camelCase(e.columnName),r=e.filterType?e.filterType:"none",o=e.sorter?e.sorter:"none",c=e.render?e.render:"none";switch(a+='\n           { \n               title: this.props.intl.formatMessage({ id:"js.'.concat(n,'.table.00XX" ,defaultMessage:"').concat(t,'" }),\n               dataIndex: "').concat(t,'",\n               key: "').concat(t,'",\n               width: 120,\n\n          '),r){case"none":break;case"text":a+='\n                filterType: "text",\n                filterDropdownType: "string",\n                filterDropdown: "show",\n              ';break;case"number":a+='\n                filterType: "number", \n                filterDropdownType: "number", \n                className: \'column-number-right \', \n                filterInputNumberOptions: {\n                    max: 999999,\n                    min: 0,\n                    step: 1,\n                    precision: 0\n                },\n              ';break;case"date":a+='\n                filterType: "date",\n                filterDropdown: "show", \n              ';break;case"daterange":a+='\n                filterDropdown: "hide", \n                filterType: "daterange", \n                filterDropdownType: "daterange", \n              ';break;case"dropdown":a+='\n                filterType: "dropdown",\n                filterDropdown: "hide",  \n                filterDropdownAuto: "manual", \n                filterDropdownData: [{key: "KEY_1", value: "VALUE_1"}, {key: "KEY_2", value: "VALUE_2"}],\n              '}switch("none"!==o&&(a+="\n                sorter: (a, b) => a.".concat(t," - b.").concat(t,",\n            ")),m.startsWith(c,"FactoryComp-")&&(a+="\n          render: (text, record, index) => {\n                return <FactoryComp\n                    type='".concat(t,"'  //\u4e1a\u52a1\u7ec4\u4ef6\u7c7b\u578b\n                    value={text} //\u521d\u59cb\u5316\u503c\n                    field='").concat(t,"' //\u4fee\u6539\u7684\u5b57\u6bb5\n                    index={index} //\u5b57\u6bb5\u7684\u884c\u53f7\n                    required={true} //\u5fc5\u8f93\u9879\n                    record={record} //\u8bb0\u5f55\u96c6\u7528\u4e8e\u591a\u5b57\u6bb5\u5904\u7406\n                    onChange={this.changeAllData} //\u56de\u8c03\u51fd\u6570\n                    onValidate={this.onValidate} //\u6821\u9a8c\u7684\u56de\u8c03\n                />\n            }\n        ")),c){case"none":break;case"Basic-span":a+='\n                render: (text, record, index) => {\n                    return <span>{text ? text : ""}</span>\n                }\n              ';break;case"Basic-moment":a+='\n                render: (text, record, index) => {\n                      return <div>{text ? moment(text).format("YYYY/MM/DD") : ""}</div>\n                }\n              ';break;case"Basic-toLocaleString":a+='\n                render: (text, record, index) => {\n                      return  <span>{typeof text === "number" ? Number(text.toFixed(2)).toLocaleString() : ""}</span>;\n                }\n              ';break;case"Basic-Tooltip":a+="\n                render: (text, record, index) => {\n                    return (\n                        <Tooltip inverse overlay={text}>\n                            <span>{text}</span>\n                        </Tooltip>\n                    );\n                }\n              "}a+="},"}}),a+=' \n\n        \n        {\n            title: this.props.intl.formatMessage({ id:"js.'.concat(n,'.table.00XX" ,defaultMessage:"\u5efa\u7acb\u8005" }),\n            dataIndex: "createUserName",\n            key: "createUserName",\n            width: 200,\n            render: (text, record, index) => {\n              return <div>{text ? text : decodeURIComponent(getCookie("_A_P_userName"))}</div>;\n            }\n        },\n        {\n            title: this.props.intl.formatMessage({ id:"js.').concat(n,'.table.00XX" ,defaultMessage:"\u5efa\u7acb\u65e5\u671f" }),\n            dataIndex: "createTime",\n            key: "createTime",\n            width: 200,\n            render: (text, record, index) => { \n              return <div>{text ? moment(text,\'YYYY-MM-DD HH:mm:ss\').format(\'YYYY/MM/DD HH:mm\') : moment().format("YYYY/MM/DD HH:mm") }</div>;\n            }\n        },\n\n\n\n        {\n            title: this.props.intl.formatMessage({ id:"js.').concat(n,'.table.00XX" ,defaultMessage:"\u4fee\u6539\u8005" }),\n            dataIndex: "lastModifyUserName",\n            key: "lastModifyUserName",\n            width: 200,\n        },\n        {\n            title: this.props.intl.formatMessage({ id:"js.').concat(n,'.table.00XX" ,defaultMessage:"\u4fee\u6539\u65e5\u671f" }),\n            dataIndex: "lastModified",\n            key: "lastModified",\n            width: 200,\n            render: (text, record, index) => { \n              return <div>{text ? moment(text,\'YYYY-MM-DD HH:mm:ss\').format(\'YYYY/MM/DD HH:mm\') : moment().format("YYYY/MM/DD HH:mm") }</div>;\n            }\n        },\n\n'),a+="];",u.format(a,{parser:"babylon",plugins:p})}({tableSchema:o});M(t);var n=function(e){var t=e.tableSchema,n="";n+="\n            let tmp = {\n              key: uuid(),\n              _edit: true,\n              _isNew: true,\n              _checked: false,\n              _disabled: false,\n              _flag: false,\n            ";var a=new Map;return a.set("String","''"),a.set("Double",0),a.set("Integer",0),a.set("Boolean",!1),t.map(function(e){if(!f.includes(e.columnName)){var t=m.camelCase(e.columnName),r=e.type,o=a.get(r);n+="year"==t?"year: moment().format('YYYY'),":" ".concat(t,":").concat(o,", ")}}),n+="}",u.format(n,{parser:"babylon",plugins:p})}({tableSchema:o});N(n);var a=function(e){console.log("gen factory comp"),console.log(e);var t=e.tableSchema,n=e.projectName,a="",r=[],o=[];return console.log("tableSchema map"),t.map(function(e){if(!f.includes(e.columnName)){var t=m.camelCase(e.columnName),a=m.startsWith(e.render,"FactoryComp-")?m.split(e.render,"FactoryComp-")[1]:"none";console.log(e.render),console.log("renderType:".concat(a));var c="";switch(a){case"none":break;case"Text":r.push("import TextField from 'components/RowField/TextField';"),c+="\n                                case '".concat(t,"': \n                                  return (<div>\n                                      {record._edit ?//\u7f16\u8f91\u6001\n                                          <TextField {...this.props}\n                                              status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                                              validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                                          /> : <div>{value}</div>}\n                                  </div>);\n                              "),o.push(c),console.log("renderComp i"),console.log(o);break;case"Select":r.push("import SelectField from 'components/RowField/SelectField';"),c+="\n                                case '".concat(t,"':\n                                  const ").concat(t,'Data = [{\n                                      key: this.props.intl.formatMessage({ id: "js.').concat(n,".factory.").concat(t,".0001\", defaultMessage: '\u8acb\u9078\u64c7' }),\n                                      value: '',\n                                      disabled: true\n                                  }, {\n                                      key: this.props.intl.formatMessage({ id: \"js.").concat(n,".factory.").concat(t,".0002\", defaultMessage: 'KEY-001' }),\n                                      value: 'VALUE-001'\n                                  }, {\n                                      key: this.props.intl.formatMessage({ id: \"js.").concat(n,".factory.").concat(t,".0003\", defaultMessage: 'KEY-002' }),\n                                      value: 'VALUE-002'\n                                  }];\n                                  return (<div>\n                                      {record._edit ?\n                                          <SelectField {...this.props}\n                                              status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                                              validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                                              data={").concat(t,"Data}\n                                          /> : <div>{record.").concat(t,"EnumValue}</div>}\n                                  </div>); \n                              "),o.push(c),console.log("renderComp i"),console.log(o);break;case"Number":r.push("import NumberField from 'components/RowField/NumberField';"),c+="\n                                 case '".concat(t,"': \n                                  return (<div>\n                                      {record._edit ?\n                                          <NumberField {...this.props}\n                                              status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                                              validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                                              iconStyle=\"one\"\n                                              max={99}\n                                              min={0}\n                                              step={1}\n                                          /> : <div>{value}</div>}\n                                  </div>);\n                              "),o.push(c),console.log("renderComp i"),console.log(o);break;case"Month":r.push("import SelectField from 'components/RowField/SelectField';"),c+="\n\n\n                case 'month'://\u6708\u4efd\n                const monthData = [{\n                    key: this.props.intl.formatMessage({ id: \"js.".concat(n,'.factory.month.0001", defaultMessage: \'\u8bf7\u9009\u62e9\' }),\n                    value: "",\n                    disabled: true\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,".factory.month.0002\", defaultMessage: '\u4e00\u6708' }),\n                    value: 1\n                }, {\n                    key: this.props.intl.formatMessage({ id: \"js.").concat(n,'.factory.month.0003", defaultMessage: "\u4e8c\u6708" }),\n                    value: 2\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,'.factory.month.0004", defaultMessage: "\u4e09\u6708" }),\n                    value: 3\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,'.factory.month.0005", defaultMessage: "\u56db\u6708" }),\n                    value: 4\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,'.factory.month.0006", defaultMessage: "\u4e94\u6708" }),\n                    value: 5\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,'.factory.month.0007", defaultMessage: "\u516d\u6708" }),\n                    value: 6\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,'.factory.month.0008", defaultMessage: "\u4e03\u6708" }),\n                    value: 7\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,'.factory.month.0009", defaultMessage: "\u516b\u6708" }),\n                    value: 8\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,'.factory.month.0010", defaultMessage: "\u4e5d\u6708" }),\n                    value: 9\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,'.factory.month.0011", defaultMessage: "\u5341\u6708" }),\n                    value: 10\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,'.factory.month.0012", defaultMessage: "\u5341\u4e00\u6708" }),\n                    value: 11\n                }, {\n                    key: this.props.intl.formatMessage({ id: "js.').concat(n,".factory.month.0013\", defaultMessage: \"\u5341\u4e8c\u6708\" }),\n                    value: 12\n                }];\n                return (<div>\n                    {record._edit ?\n                        <SelectField {...this.props}\n                            status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                            validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                            data={monthData}//\u81ea\u5b9a\u4e49\u6570\u636e\u4f20\u5165json\n                        /> : <div>{record.monthEnumValue}</div>}\n                </div>);\n\n\n\n                     "),o.push(c);break;case"Year":r.push("import YearField from 'components/RowField/YearField';"),c+="  \n             case 'year'://\u5e74\u4efd\n                return (<div>\n                    {record._edit ?\n                        <YearField {...this.props}\n                            status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                            validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                        /> : <div>{value}</div>}\n                </div>);\n                              ",o.push(c);break;case"Date":r.push("import DateField from 'components/RowField/DateField';"),c+="\n              case 'date'://\u65e5\u671f\n                    return (<div>\n                        {record._edit ?\n                            <DateField {...this.props}\n                                status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                                validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                            /> : <div>{value}</div>}\n                    </div>); \n                              ",o.push(c);break;case"Ref":r.push("import Ref".concat(m.upperFirst(t)," from 'components/RowField/Ref").concat(m.upperFirst(t),"';")),c+="    \n           case '".concat(t,"': \n                return (<div>\n                    {record._edit ?\n                        <Ref").concat(m.upperFirst(t)," {...this.props}\n                            status={record['_status']}//\u662f\u5426\u4fee\u6539\u8fc7\u6807\u8bb0\n                            validate={record['_validate']}//\u542f\u7528\u9a8c\u8bc1\n                        /> : <div>{record.").concat(t,"Name}</div>}\n                </div>);\n                              "),o.push(c)}}}),console.log("tableSchema map end"),a+="import React, { Component } from 'react';",(r=m.uniq(r)).map(function(e){a+="\n        ".concat(e,"\n     ")}),a+="\n     class FactoryComp extends Component {\n        constructor(props) {\n          super(props);\n        }\n\n\n        renderComp = () => {\n        let { type, value, record } = this.props;\n        switch (type) {  \n              \n   ",console.log("renderComp o"),console.log(o),o.map(function(e){a+="\n          ".concat(e,"\n      ")}),a+="\n                   default:\n                      return (<div>\u7ec4\u4ef6\u7c7b\u578b\u9519\u8bef</div>)\n              }\n          }\n          render() {\n              return (<div>\n                  {this.renderComp()}\n              </div>);\n          }\n      }\n\n      export default FactoryComp;\n\n  ",u.format(a,{parser:"babylon",plugins:p})}({tableSchema:o,projectName:g});j(a)}}},e.children)},h=n(338),y=n(337),b=(n(170),h.a.TextArea),E=y.a.create()(function(e){var t,n=Object(a.useContext)(i).setSettingConfig,o=e.form,c=o.validateFields,l=o.getFieldDecorator,d=o.getFieldsError;return r.a.createElement("div",{className:"setting-area"},r.a.createElement(y.a,{layout:"vertical",onSubmit:function(e){e.preventDefault(),c(function(e,t){e||(console.log("submit value"),console.log(t),n(t))})}},r.a.createElement(y.a.Item,{label:"# Table Schema"},l("tableSchema",{rules:[{required:!0,message:"Please input your Table Schema!"}]})(r.a.createElement(b,{rows:10}))),r.a.createElement(y.a.Item,{label:"# Project Name"},l("projectName",{rules:[{required:!0,message:"Please input your Project Name!"}]})(r.a.createElement(h.a,{placeholder:"project name"}))),r.a.createElement(y.a.Item,null,r.a.createElement(s.a,{type:"primary",htmlType:"submit",disabled:(t=d(),Object.keys(t).some(function(e){return t[e]}))},"Submit"))))}),M=n(78),x=n(74),k=n(336),C=(n(272),M.a.Option),j=M.a.OptGroup,S=function(){var e=Object(a.useContext)(i),t=e.tableSchema,n=e.updateConfig,o=function(e,n,a){console.log("type:".concat(e," index:").concat(n," value:").concat(a));var r={};switch(e){case"sorter":r[e]=a.target.checked;break;default:r[e]=a}t[n]=Object(d.a)({},t[n],r)},c=[{title:"Column Name",dataIndex:"columnName",key:"columnName"},{title:"Type",dataIndex:"type",key:"type"},{title:"FilterType",key:"FilterType",render:function(e,t,n){return r.a.createElement(M.a,{defaultValue:"none",style:{width:120},onChange:o.bind(void 0,"filterType",n)},r.a.createElement(C,{value:"none"},"none"),r.a.createElement(C,{value:"text"},"text"),r.a.createElement(C,{value:"number"},"number"),r.a.createElement(C,{value:"date"},"date"),r.a.createElement(C,{value:"daterange"},"daterange"),r.a.createElement(C,{value:"dropdown"},"dropdown"))}},{title:"Sorter",key:"Sorter",render:function(e,t,n){return r.a.createElement(x.a,{onChange:o.bind(void 0,"sorter",n)},"sorter")}},{title:"Render",key:"Render",render:function(e,t,n){return r.a.createElement(M.a,{defaultValue:"none",style:{width:120},onChange:o.bind(void 0,"render",n)},r.a.createElement(j,{label:"Basic"},r.a.createElement(C,{value:"none"},"none"),r.a.createElement(C,{value:"Basic-span"},"span"),r.a.createElement(C,{value:"Basic-moment"},"moment"),r.a.createElement(C,{value:"Basic-toLocaleString"},"toLocaleString"),r.a.createElement(C,{value:"Basic-Tooltip"},"Tooltip")),r.a.createElement(j,{label:"FactoryComp"},r.a.createElement(C,{value:"FactoryComp-Text"},"Text"),r.a.createElement(C,{value:"FactoryComp-Select"},"Select"),r.a.createElement(C,{value:"FactoryComp-Number"},"Number"),r.a.createElement(C,{value:"FactoryComp-Month"},"Month"),r.a.createElement(C,{value:"FactoryComp-Year"},"Year"),r.a.createElement(C,{value:"FactoryComp-Date"},"Date"),r.a.createElement(C,{value:"FactoryComp-Ref"},"Ref")))}}];return r.a.createElement("div",{className:"annotation-table"},r.a.createElement("h1",{className:"text-gradient"},"@ Annotation"),r.a.createElement(k.a,{columns:c,dataSource:t,pagination:!1}),r.a.createElement(s.a,{type:"primary",onClick:function(){n(t)}},"Generate Grid Colunm"))},w=n(153),F=n(154),N=n(158),T=n(155),D=n(159),_=n(110),Y=n(157),O=n.n(Y),R=(n(328),function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(N.a)(this,Object(T.a)(t).call(this,e))).state={},n}return Object(D.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.codeStr,n=e.lang;return r.a.createElement(_.a,Object.assign({},_.b,{theme:O.a,code:t,language:n}),function(e){var t=e.className,n=e.style,a=e.tokens,o=e.getLineProps,c=e.getTokenProps;return r.a.createElement("pre",{className:t,style:n},a.map(function(e,t){return r.a.createElement("div",o({line:e,key:t}),e.map(function(e,t){return r.a.createElement("span",c({token:e,key:t}))}))}))})}}]),t}(a.Component)),I=function(){var e=Object(a.useContext)(i),t=e.formattedGridColumn,n=e.formattedFactoryComp,o=e.formattedColunmInitTmp;return r.a.createElement(a.Fragment,null,r.a.createElement(R,{codeStr:t,lang:"js"}),r.a.createElement(R,{codeStr:o,lang:"jsx"}),r.a.createElement(R,{codeStr:n,lang:"js"}))},A=(n(329),n(331),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{ghost:!0,icon:"github",className:"githubBtn"},r.a.createElement("a",{href:"https://github.com/openopen114/gen-grid-column-web",target:"_blank"}," ","Github")),r.a.createElement("h1",{className:"app-title"},"GRID COLUMN GENERATOR"),r.a.createElement(g,null,r.a.createElement(E,null),r.a.createElement(S,null),r.a.createElement("h1",{className:"result-title"},"Generate Column Result"),r.a.createElement(I,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[161,2,1]]]);
//# sourceMappingURL=main.d2c64b6a.chunk.js.map